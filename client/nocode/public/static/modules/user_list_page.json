{
    "com_name": "div",
    "com_version": "1",
    "com_info": {
        "style": {
            "background": "#F5F6F7",
            "flex": 1,
            "display": "flex",
            "overflow": "auto"
        }
    },
    "com_children": [
        {
            "com_name": "nc_data_source",
            "com_ref": "list_page_data",
            "com_info": {
                "style": {
                    "flex": 1,
                    "overflow": "hidden",
                    "min-width": "900px"
                }
            },
            "com_props": {
                "data_sources": {
                    "__ds_gender": {
                        "fetch_params": [
                            {
                                "enumMap": {
                                    "1": "男",
                                    "2": "女"
                                },
                                "params_fields": [
                                    "enumMap"
                                ]
                            }
                        ]
                    },
                    "__ds_huji": {
                        "api": {
                            "url": "user/huji",
                            "method": "GET"
                        }
                    },
                    "__listPageData": {
                        "api": {
                            "url": "user/list",
                            "method": "GET"
                        },
                        "fetch_params": [
                            {
                                "params_source": "com_ref",
                                "params_com_ref": "formSearch",
                                "params_set_name": "search"
                            },
                            {
                                "params_source": "com_ref",
                                "params_com_ref": "list",
                                "params_com_method_name": "getSort",
                                "params_set_name": "sort"
                            },
                            {
                                "params_source": "com_ref",
                                "params_com_ref": "pagination",
                                "params_set_name": "page",
                                "params_default_value": {
                                    "pageIndex": 1,
                                    "pageSize": 20
                                }
                            }
                        ]
                    }
                },
                "data_children": [
                    {
                        "com_name": "div",
                        "com_info": {
                            "style": {
                                "height": "100%",
                                "display": "flex",
                                "flex-direction": "column"
                            }
                        },
                        "com_children": [
                            {
                                "com_name": "div",
                                "com_info": {
                                    "style": {
                                        "padding": "10px 0",
                                        "display": "flex",
                                        "flex-direction": "row"
                                    }
                                },
                                "com_children": [
                                    {
                                        "com_name": "nc_form",
                                        "com_ref": "formSearch",
                                        "com_info": {
                                            "style": {
                                                "flex": 1
                                            }
                                        },
                                        "com_props": {
                                            "form_children": [
                                                {
                                                    "com_name": "div",
                                                    "com_info": {
                                                        "style": {
                                                            "display": "flex",
                                                            "flex-direction": "row",
                                                            "flex-wrap": "wrap"
                                                        }
                                                    },
                                                    "com_children": [
                                                        {
                                                            "com_name": "el-input",
                                                            "com_info": {
                                                                "attrs": {
                                                                    "placeholder": "用户编号、姓名"
                                                                },
                                                                "style": {
                                                                    "margin": "5px 10px",
                                                                    "width": "200px"
                                                                }
                                                            },
                                                            "com_field": {
                                                                "field_name": "formData.keyWord"
                                                            },
                                                            "com_props": {
                                                                "clearable": true
                                                            }
                                                        },
                                                        {
                                                            "com_name": "div",
                                                            "com_info": {
                                                                "style": {
                                                                    "display": "flex",
                                                                    "flex-direction": "row",
                                                                    "margin": "5px 10px"
                                                                }
                                                            },
                                                            "com_children": [
                                                                {
                                                                    "com_name": "div",
                                                                    "com_text": "性别",
                                                                    "com_info": {
                                                                        "attrs": {
                                                                            "class": "el-form-item__label"
                                                                        },
                                                                        "style": {
                                                                            "white-space": "nowrap"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "com_name": "nc_select",
                                                                    "com_info": {
                                                                        "style": {
                                                                            "width": "90px"
                                                                        },
                                                                        "attrs": {
                                                                            "clearable": true
                                                                        }
                                                                    },
                                                                    "com_props": {
                                                                        "data_source_name": "__ds_gender"
                                                                    },
                                                                    "com_field": {
                                                                        "field_name": "formData.gender"
                                                                    }
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "com_name": "div",
                                                            "com_info": {
                                                                "style": {
                                                                    "display": "flex",
                                                                    "flex-direction": "row",
                                                                    "margin": "5px 10px"
                                                                }
                                                            },
                                                            "com_children": [
                                                                {
                                                                    "com_name": "div",
                                                                    "com_text": "户籍",
                                                                    "com_info": {
                                                                        "attrs": {
                                                                            "class": "el-form-item__label"
                                                                        },
                                                                        "style": {
                                                                            "white-space": "nowrap"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "com_name": "nc_select",
                                                                    "com_info": {
                                                                        "style": {
                                                                            "width": "120px"
                                                                        },
                                                                        "attrs": {
                                                                            "clearable": true
                                                                        }
                                                                    },
                                                                    "com_props": {
                                                                        "data_source_name": "__ds_huji"
                                                                    },
                                                                    "com_field": {
                                                                        "field_name": "formData.huji"
                                                                    }
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "com_name": "div",
                                                            "com_info": {
                                                                "style": {
                                                                    "display": "flex",
                                                                    "flex-direction": "row",
                                                                    "margin": "5px 10px"
                                                                }
                                                            },
                                                            "com_children": [
                                                                {
                                                                    "com_name": "div",
                                                                    "com_text": "出生年月",
                                                                    "com_info": {
                                                                        "attrs": {
                                                                            "class": "el-form-item__label"
                                                                        },
                                                                        "style": {
                                                                            "white-space": "nowrap"
                                                                        }
                                                                    }
                                                                },
                                                                {
                                                                    "com_name": "el-date-picker",
                                                                    "com_props": {
                                                                        "type": "daterange",
                                                                        "range-separator": "至",
                                                                        "start-placeholder": "开始日期",
                                                                        "end-placeholder": "结束日期",
                                                                        "value-format": "yyyy-MM-dd"
                                                                    },
                                                                    "com_field": {
                                                                        "field_name": "formData.birthday"
                                                                    }
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        "com_events": [
                                            {
                                                "event_name": "change",
                                                "commands": [
                                                    {
                                                        "cmd_name": "call_com_method",
                                                        "cmd_params": {
                                                            "com_ref": "list_page_data",
                                                            "com_method_name": "refresh",
                                                            "com_method_params": [
                                                                {
                                                                    "ds_name": "__listPageData"
                                                                }
                                                            ]
                                                        }
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "com_name": "el-button",
                                        "com_text": "添加",
                                        "com_info": {
                                            "style": {
                                                "width": "100px",
                                                "height": "40px",
                                                "margin": "5px 10px"
                                            }
                                        },
                                        "com_props": {
                                            "type": "primary"
                                        },
                                        "com_events": [
                                            {
                                                "event_name": "click",
                                                "commands": [
                                                    {
                                                        "cmd_name": "push_route",
                                                        "cmd_params": {
                                                            "path": "add"
                                                        }
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "com_name": "div",
                                "com_info": {
                                    "style": {
                                        "flex": 1,
                                        "overflow": "hidden"
                                    }
                                },
                                "com_children": [
                                    {
                                        "com_name": "nc_table",
                                        "com_ref": "list",
                                        "com_binds": [
                                            {
                                                "prop_name": "listData",
                                                "field_name": "__listPageData.listData"
                                            }
                                        ],
                                        "com_props": {
                                            "table_props": {
                                                "stripe": true,
                                                "height": "100%",
                                                "tooltip-effect": "light"
                                            },
                                            "fields": [
                                                {
                                                    "column_props": {
                                                        "prop": "no",
                                                        "label": "用户编号",
                                                        "min-width": "180"
                                                    }
                                                },
                                                {
                                                    "column_props": {
                                                        "prop": "name",
                                                        "label": "姓名",
                                                        "min-width": "200"
                                                    }
                                                },
                                                {
                                                    "column_props": {
                                                        "prop": "avatar",
                                                        "label": "头像",
                                                        "width": "80",
                                                        "header-align": "center"
                                                    },
                                                    "column_components": [
                                                        {
                                                            "com_name": "el-avatar",
                                                            "com_info": {
                                                                "style": {
                                                                    "display": "block",
                                                                    "margin": "auto"
                                                                }
                                                            },
                                                            "com_binds": [
                                                                {
                                                                    "prop_name": "src",
                                                                    "field_name": "avatar"
                                                                }
                                                            ],
                                                            "com_props": {
                                                                "shape": "square",
                                                                "size": "small"
                                                            }
                                                        }
                                                    ]
                                                },
                                                {
                                                    "column_props": {
                                                        "prop": "gender",
                                                        "label": "性别",
                                                        "min-width": "100",
                                                        "sortable": "custom"
                                                    },
                                                    "column_components": [
                                                        {
                                                            "com_name": "nc_enum",
                                                            "com_field": {
                                                                "field_name": "gender"
                                                            },
                                                            "com_props": {
                                                                "data_source_name": "__ds_gender"
                                                            }
                                                        }
                                                    ]
                                                },
                                                {
                                                    "column_props": {
                                                        "prop": "huji",
                                                        "label": "户籍",
                                                        "min-width": "100",
                                                        "sortable": "custom"
                                                    },
                                                    "column_components": [
                                                        {
                                                            "com_name": "nc_enum",
                                                            "com_field": {
                                                                "field_name": "huji"
                                                            },
                                                            "com_props": {
                                                                "data_source_name": "__ds_huji"
                                                            }
                                                        }
                                                    ]
                                                },
                                                {
                                                    "column_props": {
                                                        "prop": "birthday",
                                                        "label": "出生年月",
                                                        "min-width": "180"
                                                    }
                                                },
                                                {
                                                    "column_props": {
                                                        "label": "操作",
                                                        "width": "120",
                                                        "align": "center",
                                                        "fixed": "right"
                                                    },
                                                    "column_components": [
                                                        {
                                                            "com_name": "div",
                                                            "com_info": {
                                                                "style": {
                                                                    "text-align": "center",
                                                                    "margin-left": "10px"
                                                                }
                                                            },
                                                            "com_children": [
                                                                {
                                                                    "com_name": "el-button",
                                                                    "com_info": {
                                                                        "style": {
                                                                            "margin-right": "10px",
                                                                            "padding": 0
                                                                        }
                                                                    },
                                                                    "com_props": {
                                                                        "type": "text"
                                                                    },
                                                                    "com_text": "编辑",
                                                                    "com_events": [
                                                                        {
                                                                            "event_name": "click",
                                                                            "commands": [
                                                                                {
                                                                                    "cmd_name": "push_route",
                                                                                    "cmd_params": {
                                                                                        "path": "edit",
                                                                                        "route_params": [
                                                                                            {
                                                                                                "params_source": "com_params",
                                                                                                "params_fields": [
                                                                                                    "_id"
                                                                                                ]
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                }
                                                                            ]
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "com_name": "el-popconfirm",
                                                                    "com_props": {
                                                                        "popper-class": "board-style",
                                                                        "title": "确认删除",
                                                                        "message": "删除后不可恢复，确认删除吗？"
                                                                    },
                                                                    "com_events": [
                                                                        {
                                                                            "event_name": "confirm",
                                                                            "commands": [
                                                                                {
                                                                                    "cmd_name": "request_api",
                                                                                    "cmd_params": {
                                                                                        "api": {
                                                                                            "url": "user/delete",
                                                                                            "method": "DELETE"
                                                                                        },
                                                                                        "request_params": [
                                                                                            {
                                                                                                "params_source": "com_params",
                                                                                                "params_fields": [
                                                                                                    "_id"
                                                                                                ]
                                                                                            }
                                                                                        ],
                                                                                        "commands": [
                                                                                            {
                                                                                                "cmd_name": "message",
                                                                                                "cmd_params": {
                                                                                                    "cmd_msg_type": "success",
                                                                                                    "cmd_msg_params": {
                                                                                                        "options": "删除成功"
                                                                                                    }
                                                                                                }
                                                                                            },
                                                                                            {
                                                                                                "cmd_name": "call_com_method",
                                                                                                "cmd_params": {
                                                                                                    "com_ref": "list_page_data",
                                                                                                    "com_method_name": "refresh",
                                                                                                    "com_method_params": [
                                                                                                        {
                                                                                                            "ds_name": "__listPageData"
                                                                                                        }
                                                                                                    ]
                                                                                                }
                                                                                            }
                                                                                        ],
                                                                                        "exception_commands": [
                                                                                            {
                                                                                                "cmd_name": "message",
                                                                                                "cmd_params": {
                                                                                                    "cmd_msg_type": "error",
                                                                                                    "cmd_msg_params": {
                                                                                                        "options_params": [
                                                                                                            {
                                                                                                                "params_source": "cmd_data",
                                                                                                                "params_fields": [
                                                                                                                    "message"
                                                                                                                ]
                                                                                                            }
                                                                                                        ]
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                }
                                                                            ]
                                                                        }
                                                                    ],
                                                                    "com_children": [
                                                                        {
                                                                            "com_slot": "reference",
                                                                            "com_name": "el-button",
                                                                            "com_info": {
                                                                                "style": {
                                                                                    "margin-right": "10px",
                                                                                    "padding": 0
                                                                                }
                                                                            },
                                                                            "com_props": {
                                                                                "type": "text"
                                                                            },
                                                                            "com_text": "删除"
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        "com_children": [
                                            {
                                                "com_name": "span",
                                                "com_slot": "empty",
                                                "com_children": [
                                                    {
                                                        "com_name": "div",
                                                        "com_text": "暂 无 数 据"
                                                    }
                                                ]
                                            }
                                        ],
                                        "com_events": [
                                            {
                                                "event_name": "sort-change",
                                                "commands": [
                                                    {
                                                        "cmd_name": "call_com_method",
                                                        "cmd_params": {
                                                            "com_ref": "list_page_data",
                                                            "com_method_name": "refresh",
                                                            "com_method_params": [
                                                                {
                                                                    "ds_name": "__listPageData"
                                                                }
                                                            ]
                                                        }
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "com_name": "div",
                                "com_info": {
                                    "style": {
                                        "padding": "10px 0"
                                    }
                                },
                                "com_children": [
                                    {
                                        "com_name": "nc_pagination",
                                        "com_ref": "pagination",
                                        "com_binds": [
                                            {
                                                "prop_name": "page_data",
                                                "field_name": "__listPageData.pageData"
                                            }
                                        ],
                                        "com_props": {
                                            "pagination_props": {
                                                "page-sizes": [
                                                    20,
                                                    50,
                                                    100
                                                ],
                                                "layout": "total, sizes, prev, pager, next, jumper"
                                            }
                                        },
                                        "com_events": [
                                            {
                                                "event_name": "change",
                                                "commands": [
                                                    {
                                                        "cmd_name": "call_com_method",
                                                        "cmd_params": {
                                                            "com_ref": "list_page_data",
                                                            "com_method_name": "refresh",
                                                            "com_method_params": [
                                                                {
                                                                    "ds_name": "__listPageData"
                                                                }
                                                            ]
                                                        }
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        }
    ]
}